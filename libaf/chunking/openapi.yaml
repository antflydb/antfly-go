openapi: 3.0.3
info:
  title: Chunking Types
  description: "Shared types for text chunking."
  version: "0.0.1"
components:
  schemas:
    Chunk:
      type: object
      description: "A chunk of text with position information."
      required:
        - id
        - text
        - start_char
        - end_char
      properties:
        id:
          type: integer
          description: "Sequence number of the chunk (0, 1, 2, ...)"
          x-go-type: uint32
        text:
          type: string
          description: "The chunk content"
        start_char:
          type: integer
          description: "Character position in original text where chunk starts"
        end_char:
          type: integer
          description: "Character position in original text where chunk ends (exclusive)"

    ChunkOptions:
      type: object
      description: "Per-request configuration for chunking. All fields are optional - zero/omitted values use chunker defaults."
      properties:
        max_chunks:
          type: integer
          description: "Maximum number of chunks to generate per document."
        overlap_tokens:
          type: integer
          description: "Number of tokens to overlap between consecutive chunks. Helps maintain context across chunk boundaries. Only used by fixed-size chunkers."
        separator:
          type: string
          description: "Separator string for splitting (e.g., '\\n\\n' for paragraphs). Only used by fixed-size chunkers."
        threshold:
          type: number
          format: float
          description: "Minimum confidence threshold for separator detection (0.0-1.0). Only used by ONNX models."
        target_tokens:
          type: integer
          description: "Target number of tokens per chunk."
